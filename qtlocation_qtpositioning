1️⃣ Prerequisites (Important)

Make sure these Qt5 modules are installed:

sudo apt install qtdeclarative5-dev qtpositioning5-dev qtlocation5-dev


Check plugins:

ls /usr/lib/x86_64-linux-gnu/qt5/plugins/geoservices/


You should see:

libqtgeoservices_osm.so

2️⃣ Project Structure
MapApp/
├── MapApp.pro
├── main.cpp
└── qml.qrc
└── qml/
    ├── Main.qml
    ├── HomePage.qml
    └── MapPage.qml

3️⃣ MapApp.pro
QT += quick qml location positioning

CONFIG += c++11

SOURCES += main.cpp

RESOURCES += qml.qrc

4️⃣ main.cpp
#include <QGuiApplication>
#include <QQmlApplicationEngine>

int main(int argc, char *argv[])
{
    QGuiApplication app(argc, argv);

    QQmlApplicationEngine engine;
    engine.load(QUrl(QStringLiteral("qrc:/qml/Main.qml")));

    if (engine.rootObjects().isEmpty())
        return -1;

    return app.exec();
}

5️⃣ qml.qrc
<RCC>
    <qresource prefix="/qml">
        <file>qml/Main.qml</file>
        <file>qml/HomePage.qml</file>
        <file>qml/MapPage.qml</file>
    </qresource>
</RCC>

6️⃣ Main.qml (Navigation Controller)
import QtQuick 2.12
import QtQuick.Controls 2.12

ApplicationWindow {
    visible: true
    width: 800
    height: 480
    title: "Qt Map Loader"

    StackView {
        id: stack
        anchors.fill: parent
        initialItem: HomePage {}
    }
}

7️⃣ HomePage.qml (Load Map Button)
import QtQuick 2.12
import QtQuick.Controls 2.12

Page {
    title: "Home"

    Rectangle {
        anchors.fill: parent
        color: "#f2f2f2"

        Button {
            text: "Load Map"
            width: 200
            height: 50
            anchors.centerIn: parent

            onClicked: {
                stack.push(Qt.resolvedUrl("MapPage.qml"))
            }
        }
    }
}

8️⃣ MapPage.qml (Actual Map Page)
import QtQuick 2.12
import QtQuick.Controls 2.12
import QtLocation 5.12
import QtPositioning 5.12

Page {
    title: "Map"

    Plugin {
        id: mapPlugin
        name: "osm"   // OpenStreetMap
    }

    Map {
        anchors.fill: parent
        plugin: mapPlugin

        center: QtPositioning.coordinate(28.6139, 77.2090) // New Delhi
        zoomLevel: 14

        MapQuickItem {
            coordinate: QtPositioning.coordinate(28.6139, 77.2090)
            anchorPoint.x: marker.width / 2
            anchorPoint.y: marker.height

            sourceItem: Rectangle {
                id: marker
                width: 12
                height: 12
                radius: 6
                color: "red"
            }
        }
    }
}
